
import React, { useEffect, useState } from 'react'
import { BrowserRouter as Router, Routes, Route, Link, Navigate } from 'react-router-dom';
import Login from '../pages/Login';
import '../styles/Navbar.css'

import AdminDashboard from '../pages/AdminNavbar/AdminDashboard';
import UserGroup from '../pages/AdminNavbar/UserGroup';
import TestCase from '../pages/AdminNavbar/TestCase';
import RegisterTestCase from '../pages/AdminNavbar/RegisterTestCase';
import RegisterUser from '../components/adminComponents/RegisterUser'
import SingleTestCase from '../components/adminComponents/SingleTestCase'
import RegisterUserGroup from '../components/adminComponents/RegisterUserGroup'


import UserDashboard from '../pages/UserNavbar/UserDashboard';
import Create from '../pages/Create';
import RegisterProject from '../pages/UserNavbar/RegisterProject'
import MyProjectsPage from '../pages/UserNavbar/MyProjectsPage'
import SingleProject from '../components/userComponents/SingleProject'
import RunTestPage from '../components/userComponents/RunTestPage'
import Scripts from '../components/userComponents/Scripts'


import {ReactComponent as AddIcon} from '../icons/Add.svg'
import {ReactComponent as HelpIcon} from '../icons/Help.svg'
import {ReactComponent as MenuMinimizeIcon} from '../icons/MenuMinimize.svg'
import {ReactComponent as MenuMaximizeIcon} from '../icons/MenuMaximize.svg'
import {ReactComponent as TestCaseIcon} from '../icons/TestCase.svg'
import {ReactComponent as ProjectIcon} from '../icons/Project.svg'
import {ReactComponent as DashboardIcon} from '../icons/Dashboard.svg'
import {ReactComponent as UserGroupIcon} from '../icons/UserGroup.svg'






function Navbar(props) {
const [getSwitch, setSwitch] = useState(false)
const toggleSwitch = () => {
  setSwitch(current => !current)
}
useEffect(()=>{}, 
  [], 
  [getSwitch],
 );

   return (
    <div className =" Homepage">
        <Router>

      
       
        <ul className={getSwitch? 'NavbarListMinimize' : 'NavbarListMaximize'}>  
            <li className="NavbarListItems" style={{display:getSwitch? 'none' : 'block'}}>
            <h3 className="Icons"> <MenuMinimizeIcon onClick={toggleSwitch}/> </h3></li>
           
            <li className="NavbarListItems" style={{display:getSwitch? 'block' : 'none'}}>
            <h3 className="Icons"> <MenuMaximizeIcon onClick={toggleSwitch}/> </h3></li>



           
            <li className="NavbarListItems" 
            style={{ display: props.userObj.role=="ROLE_ADMIN" ? 'block' : 'none' }}>
            <Link to="/adminDashboard">
              <h3 className="Icons">< DashboardIcon/>  </h3>
            </Link>
            </li>  
            <li className="NavbarListItems" style={{ display: props.userObj.role=="ROLE_ADMIN" ? 'block' : 'none' }}>
            <Link to="/adminCreate"><h3 className="Icons"><AddIcon/> </h3></Link>
              </li> 
            <li className="NavbarListItems"  style={{ display: props.userObj.role=="ROLE_ADMIN" ? 'block' : 'none' }}>
            <Link to="/my-testcases"><h3 className="Icons"><TestCaseIcon/> </h3></Link>
            </li>
            <li className="NavbarListItems"  style={{ display: props.userObj.role=="ROLE_ADMIN" ? 'block' : 'none' }}>
            <Link to="/userGroup"><h3 className="Icons"><UserGroupIcon/> </h3></Link>
            </li>  
            
            <li className="NavbarListItems" style={{ display: props.userObj.role=="ROLE_USER" ? 'block' : 'none' }}>
            <Link to="/userDashboard"> <h3 className="Icons"><DashboardIcon/></h3>
             
            </Link>
            </li> 
            <li className="NavbarListItems" style={{ display: props.userObj.role=="ROLE_USER" ? 'block' : 'none' }}>
            <Link to="/registerProject"><h3 className="Icons"><AddIcon/>  </h3></Link>
            </li>  
            <li className="NavbarListItems" style={{ display: props.userObj.role=="ROLE_USER" ? 'block' : 'none' }}>
            <Link to="/my-projects"><h3 className="Icons"><ProjectIcon/> </h3></Link>
            </li>  

            <li className="NavbarListItems"  style={{ display: props.userObj.username ? 'block' : 'none' }}>
            <Link to="/"><h3 className="Icons"><HelpIcon/> </h3></Link>
            </li>
            <li className="NavbarListItems"  style={{ display: props.userObj.username ? 'none' : 'block' }}>
            <Link to="/login"><h3>Login</h3></Link>
            </li>
          </ul>
          
          
        
          <div className ="routes">

        <Routes>
          
        <Route className =" login" path="/login" element={<Login storeId={props.storeId} />} />
        <Route  path="/adminCreate" element={<Create userObj={props.userObj} />} />
        <Route path="/adminDashboard" element={<AdminDashboard  userObj={props.userObj} />} />
        <Route path="/my-testcases/" element={<TestCase userObj={props.userObj} />} />
        <Route path="/registerTestCase" element={<RegisterTestCase userObj={props.userObj}/>} />
        <Route path="/registerUser" element={<RegisterUser />} />
        <Route  path="/registerUserGroup" element={<RegisterUserGroup />} />
        <Route path="/testcase/:id" element={<SingleTestCase/>} />
        <Route path="/userGroup" element={<UserGroup userObj={props.userObj} />} />


        <Route path="/userDashboard" element={<UserDashboard  userObj={props.userObj} />} />
        <Route path="/registerProject" element={<RegisterProject userObj={props.userObj}/>} />
        <Route path="/my-projects" element={<MyProjectsPage userObj={props.userObj}/>} />
        <Route path="/project/:id" element={<SingleProject/>} />
        <Route path="/runTest/:id" element={<RunTestPage/>} />
        <Route path="/scripts/:id" element={<Scripts userObj={props.userObj}/>} />



      
       

        
        </Routes>
        </div>
        </Router>
              
        </div>
  )
}

export default Navbar